namespace = profession_events
character_event = {
	id = profession_events.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		NOT = {
			has_profession_trigger = yes
		}
	}

	immediate = {
		random_list = {
			#Musician
			9 = {
				add_trait = novice_musician
			}
			1 = {
				add_trait = adept_musician
			}
			#Craftsman
			5 = {
				add_trait = novice_craftsman
			}
			1 = {
				add_trait = adept_craftsman
			}
			#Magic
			3 = {
				add_trait = novice_sorcerer
			}
			1 = {
				add_trait = adept_sorcerer
			}
			#Healing
			4 = {
				add_trait = novice_healer
			}
			1 = {
				add_trait = adept_healer
			}
		}
		IF = {
			limit = {
				ai = no
			}
			character_event = {
				id = profession_events.11
			}
		}
	}
}
character_event = {
	id = profession_events.10
	hide_window = yes
	min_age = 16

	trigger = {
		NOT = {
			has_profession_trigger = yes
		}
	}

	mean_time_to_happen = {
		months = 6
	}

	immediate = {
		random_list = {
			#Musician
			9 = {
				add_trait = novice_musician
			}
			1 = {
				add_trait = adept_musician
			}
			#Craftsman
			5 = {
				add_trait = novice_craftsman
			}
			1 = {
				add_trait = adept_craftsman
			}
			#Magic
			3 = {
				add_trait = novice_sorcerer
			}
			1 = {
				add_trait = adept_sorcerer
			}
			#Healing
			4 = {
				add_trait = novice_healer
			}
			1 = {
				add_trait = adept_healer
			}
		}
	}
}
character_event = {
	id = profession_events.11
	desc = {
		text = EVTDESCAprofession_events.11
		trigger = {
			is_musician_trigger = yes
		}
	}
	desc = {
		text = EVTDESCBprofession_events.11
		trigger = {
			is_craftsman_trigger = yes
		}
	}
	desc = {
		text = EVTDESCCprofession_events.11
		trigger = {
			is_sorcerer_trigger = yes
		}
	}
	desc = {
		text = EVTDESCDprofession_events.11
		trigger = {
			is_healer_trigger = yes
		}
	}
	picture = GFX_placeholder
	is_triggered_only = yes

	option = {
		name = EVTOPTAprofession_events.11
	}
}
character_event = {
	id = profession_events.12
	desc = {
		text = EVTDESCAprofession_events.12
		trigger = {
			is_musician_trigger = yes
		}
	}
	desc = {
		text = EVTDESCBprofession_events.12
		trigger = {
			is_craftsman_trigger = yes
		}
	}
	desc = {
		text = EVTDESCCprofession_events.12
		trigger = {
			is_sorcerer_trigger = yes
		}
	}
	desc = {
		text = EVTDESCDprofession_events.12
		trigger = {
			is_healer_trigger = yes
		}
	}
	picture = GFX_placeholder

	trigger = {
		has_profession_trigger = yes
		NOR = {
			trait = master_musician
			trait = master_craftsman
			trait = master_sorcerer
			trait = master_healer
		}
	}

	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 0.5
			OR = {
				has_ambition = obj_mastery_music
				has_ambition = obj_mastery_craft
				has_ambition = obj_mastery_sorcery
				has_ambition = obj_mastery_healing
			}
		}
		modifier = {
			factor = 3
			OR = {
				trait = skilled_musician
				trait = skilled_craftsman
				trait = skilled_sorcerer
				trait = skilled_healer
			}
		}
		modifier = {
			factor = 3
			OR = {
				trait = adept_musician
				trait = adept_craftsman
				trait = adept_sorcerer
				trait = adept_healer
				trait = skilled_musician
				trait = skilled_craftsman
				trait = skilled_sorcerer
				trait = skilled_healer
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = skilled_sorcerer
				trait = skilled_healer
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = adept_sorcerer
				trait = adept_healer
				trait = skilled_sorcerer
				trait = skilled_healer
			}
		}
	}

	option = {
		name = EVTOPTAprofession_events.12
		#Musician
		IF = {
			limit = {
				trait = skilled_musician
			}
			remove_trait = skilled_musician
			add_trait = master_musician
		}
		IF = {
			limit = {
				trait = adept_musician
			}
			remove_trait = adept_musician
			add_trait = skilled_musician
		}
		IF = {
			limit = {
				trait = novice_musician
			}
			remove_trait = novice_musician
			add_trait = adept_musician
		}
		#Craftsman
		IF = {
			limit = {
				trait = skilled_craftsman
			}
			remove_trait = skilled_craftsman
			add_trait = master_craftsman
		}
		IF = {
			limit = {
				trait = adept_craftsman
			}
			remove_trait = adept_craftsman
			add_trait = skilled_craftsman
		}
		IF = {
			limit = {
				trait = novice_craftsman
			}
			remove_trait = novice_craftsman
			add_trait = adept_craftsman
		}
		#Magic
		IF = {
			limit = {
				trait = skilled_sorcerer
			}
			remove_trait = skilled_sorcerer
			add_trait = master_sorcerer
		}
		IF = {
			limit = {
				trait = adept_sorcerer
			}
			remove_trait = adept_sorcerer
			add_trait = skilled_sorcerer
		}
		IF = {
			limit = {
				trait = novice_sorcerer
			}
			remove_trait = novice_sorcerer
			add_trait = adept_sorcerer
		}
		#Healing
		IF = {
			limit = {
				trait = skilled_healer
			}
			remove_trait = skilled_healer
			add_trait = master_healer
		}
		IF = {
			limit = {
				trait = adept_healer
			}
			remove_trait = adept_healer
			add_trait = skilled_healer
		}
		IF = {
			limit = {
				trait = novice_healer
			}
			remove_trait = novice_healer
			add_trait = adept_healer
		}
	}
}
character_event = {
	id = profession_events.2
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		NOT = {
			has_combat_prowess_trigger = yes
		}
	}

	immediate = {
		random_list = {
			#Swordsman
			9 = {
				add_trait = novice_fighter
			}
			1 = {
				add_trait = adept_fighter
			}
		}
		IF = {
			limit = {
				ai = no
			}
			character_event = {
				id = profession_events.21
			}
		}
	}
}
character_event = {
	id = profession_events.21
	desc = EVTDESCprofession_events.21
	picture = GFX_placeholder
	is_triggered_only = yes

	option = {
		name = EVTOPTAprofession_events.21
	}
}
character_event = {
	id = profession_events.22
	desc = EVTDESCprofession_events.22
	picture = GFX_placeholder

	trigger = {
		has_combat_prowess_trigger = yes
		NOT = {
			trait = master_fighter
		}
	}

	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 0.5
			has_ambition = obj_mastery_combat
		}
		modifier = {
			factor = 2
			OR = {
				trait = adept_fighter
				trait = skilled_fighter
			}
		}
		modifier = {
			factor = 2
			trait = skilled_fighter
		}
	}

	option = {
		name = EVTOPTAprofession_events.22
		#Fighter
		IF = {
			limit = {
				trait = skilled_fighter
			}
			remove_trait = skilled_fighter
			add_trait = master_fighter
		}
		IF = {
			limit = {
				trait = adept_fighter
			}
			remove_trait = adept_fighter
			add_trait = skilled_fighter
		}
		IF = {
			limit = {
				trait = novice_fighter
			}
			remove_trait = novice_fighter
			add_trait = adept_fighter
		}
	}
}
character_event = {
	id = profession_events.20
	hide_window = yes

	min_age = 16

	trigger = {
		NOT = {
			has_combat_prowess_trigger = yes
		}
	}

	mean_time_to_happen = {
		months = 6
	}

	immediate = {
		random_list = {
			#Swordsman
			9 = {
				add_trait = novice_fighter
			}
			1 = {
				add_trait = adept_fighter
			}
		}
	}
}